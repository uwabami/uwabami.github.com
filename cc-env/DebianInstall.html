---
title: Debian の Install
date: 2017-02-20 17:29:39
layout: cc-env
lang: ja
ref: cc-env/DebianInstall
permalink: /cc-env/DebianInstall.html
---
<div id="toc-wrapper">
<nav id="table-of-contents">
<h2>&#30446;&#27425;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org727fd38">始めに</a></li>
<li><a href="#org6556f99">Installer</a></li>
<li><a href="#org8159753">EFI 32bit installer</a></li>
<li><a href="#org50c877c">Let's Note CF-RZ6</a>
<ul>
<li><a href="#orgdd1b265">機器情報</a></li>
<li><a href="#org3be1aa7">install 前の準備</a></li>
<li><a href="#orgafbea51">インストール作業</a></li>
</ul>
</li>
<li><a href="#org8f9d357">Let's Note CF-SX3</a>
<ul>
<li><a href="#org0db16bb">ハードウェア情報</a></li>
<li><a href="#org3fa6ea3">install 前の準備</a></li>
</ul>
</li>
<li><a href="#org549b8b7">Let's Note S9</a>
<ul>
<li><a href="#org1227efa">ハードウェア情報</a></li>
<li><a href="#org3f4c3ff">install 前の準備</a></li>
</ul>
</li>
<li><a href="#org0fd2139">VAIO typeG</a>
<ul>
<li><a href="#org9fbb62e">ハードウェア情報</a></li>
<li><a href="#orgc1cf737">install 前の準備</a></li>
</ul>
</li>
<li><a href="#org203a36e">Let's Note CF-R4</a>
<ul>
<li><a href="#org884537a">ハードウェア情報</a></li>
<li><a href="#org434d99a">install 前の準備</a></li>
</ul>
</li>
<li><a href="#orgcee618a">install が終わったら.</a></li>
<li><a href="#orgc93f267">参考文献</a>
<ul>
<li><a href="#org0882295">全般</a></li>
<li><a href="#org81b9ba7">TypeG</a></li>
<li><a href="#orgfa1d06b">CF-R4</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div>
<a href="#toc-toggle" class="btn toc-btn" id="toc-toggle">&#30446;&#27425;</a>
<p>
Related: <a href='index.html'>Index</a> <a href="index.html#ID-591f6b0d-55ff-48eb-b095-401cdfa0d536">Debian</a>
</p>
<div id="outline-container-org727fd38" class="outline-2">
<h2 id="org727fd38">始めに</h2>
<div class="outline-text-2" id="text-org727fd38">
<p>
この文書は自作 DOS/V 機や
Laptop 機 へ Debian GNU/Linux をインストールした際のメモ.
特筆すべき事柄とかメモ程度の事しか書いてないので,
インストール作業自体は <a href="http://www.debian.org/releases/stable/i386/index.html.ja">Debian GNU/Linux インストールガイド</a>を参考に.
</p>
</div>
</div>
<div id="outline-container-org6556f99" class="outline-2">
<h2 id="org6556f99"><a id="ID-819f8775-1a36-4804-9472-9d91db4c4a0e"></a>Installer</h2>
<div class="outline-text-2" id="text-org6556f99">
<p>
最近は USB メモリを使った installer ばっかり使っている.
<a href="http://www.debian.org/devel/debian-installer/index.ja.html">Debian-Installer を使ったインストール</a> より,
</p>

<ul class="org-ul">
<li>weekly-build: <a href="http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/">http://cdimage.debian.org/cdimage/weekly-builds/amd64/iso-cd/</a>
<ul class="org-ul">
<li>debian-testing-amd64-netinst.iso</li>
</ul></li>
</ul>
<p>
を落としてくる.
USB メモリを差して, これらを <code>dd</code> で書き込むとインストーラが作成される.
</p>

<p>
ISO ファイルを取得するには, ミラーが近くにあるのであれば jigdo が便利.
jigdo については <a href="https://www.debian.org/CD/jigdo-cd/index.ja.html">jigdo をつかって Debian CD イメージをダウンロードする</a> を参照のこと.
</p>

<p>
例えば, USB メモリが /dev/sdb の場合には
</p>
<pre class="example">
% sudo -s
# sudo dd if=debian-stretch-DI-rc2-amd64-netinst.iso of=/dev/sdb
</pre>
<p>
だけで良い. あとは作成したインストーラで起動して, install 開始.
</p>
</div>
</div>
<div id="outline-container-org8159753" class="outline-2">
<h2 id="org8159753">EFI 32bit installer</h2>
<div class="outline-text-2" id="text-org8159753">
<p>
古いMacPro 用に作成する必要があったのでメモを残しておく.
</p>
<ul class="org-ul">
<li>参考: <a href="https://wiki.debian.org/InstallingDebianOn/Apple/MacBook/2-1">InstallingDebianOn/Apple/MacBook/2-1 - Debian Wiki</a></li>
<li>Linux 環境で作成する.  <code>grub-efi-ia32-bin</code> をインストールする.</li>
<li>インストーラとして,
<a href="http://ftp.de.debian.org/debian/dists/jessie/main/installer-i386/current/images/netboot/mini.iso">http://ftp.de.debian.org/debian/dists/jessie/main/installer-i386/current/images/netboot/mini.iso</a>
を使うので, ダウンロードしておく</li>
<li>USB メモリの先頭に, 適当なサイズ(50MB もあれば十分) のFAT32(W95 FAT32) MBR パーティションを作成</li>
<li>マウントする(以下,  <code>/media/usb</code> にマウントしたとする)</li>
<li><p>
IA32 EFI をインストール
</p>
<pre class="example">
# grub-install --target=i386-efi \
               --efi-directory=/media/usb \
               --boot-directory=/media/usb/boot \
               --removable
</pre></li>
<li><p>
<code>/media/usb/boot/grub/grub.cfg</code> ファイルを以下の内容で作成
</p>
<pre class="example">
if loadfont /boot/grub/fonts/unicode.pf2 ; then
    set gfxmode=800x600
    insmod efi_gop
    insmod efi_uga
    insmod video_bochs
    insmod video_cirrus
    insmod gfxterm
    insmod png
    terminal_output gfxterm
fi
linux (hd0,msdos1)/linux
initrd (hd0,msdos1)/initrd.gz
boot
</pre></li>
<li><code>mini.iso</code> から <code>initrd.gz</code> と <code>linux</code> を取り出して, <code>/media/usb</code> 以下に置く</li>
<li><code>mini.iso</code> そのものを <code>/media/usb</code> に置く</li>
</ul>

<p>
以上で, 32-bit EFI 用のインストーラが作成できる.
ネットワーク必須なので, 必要に応じて firmware も同梱してくと良いだろう.
</p>
</div>
</div>
<div id="outline-container-org50c877c" class="outline-2">
<h2 id="org50c877c">Let's Note CF-RZ6</h2>
<div class="outline-text-2" id="text-org50c877c">
<p>
2017/02 から利用中.
</p>

<p>
購入時の構成で, メモリ増設したらディスクまで増設されたので
</p>
<ul class="org-ul">
<li>RAM: 16GB</li>
<li>SSD: 1TB (!)</li>
</ul>
<p>
という構成になってしまいました. 搭載されている SSD の評判が良くないので,
そのうち換装するかもしれません.
</p>
</div>
<div id="outline-container-orgdd1b265" class="outline-3">
<h3 id="orgdd1b265">機器情報</h3>
<div class="outline-text-3" id="text-orgdd1b265">
<p>
lspci の出力は以下の通り
</p>
<div class="org-src-container">
<pre class="src src-text">00:00.0 Host bridge: Intel Corporation Device 590c (rev 02)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0
    Capabilities: &lt;access denied&gt;

00:02.0 VGA compatible controller: Intel Corporation Device 591e (rev 02) (prog-if 00 [VGA controller])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 128
    Memory at f5000000 (64-bit, non-prefetchable) [size=16M]
    Memory at e0000000 (64-bit, prefetchable) [size=256M]
    I/O ports at f000 [size=64]
    [virtual] Expansion ROM at 000c0000 [disabled] [size=128K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: i915
    Kernel modules: i915

00:04.0 Signal processing controller: Intel Corporation Skylake Processor Thermal Subsystem (rev 02)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Skylake Processor Thermal Subsystem
    Flags: fast devsel, IRQ 16
    Memory at f7440000 (64-bit, non-prefetchable) [size=32K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: proc_thermal
    Kernel modules: processor_thermal_device

00:13.0 Non-VGA unclassified device: Intel Corporation Device 9d35 (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 20
    Memory at f7457000 (64-bit, non-prefetchable) [size=4K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: intel_ish_ipc
    Kernel modules: intel_ish_ipc

00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21) (prog-if 30 [XHCI])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP USB 3.0 xHCI Controller
    Flags: medium devsel, IRQ 125
    Memory at f7430000 (64-bit, non-prefetchable) [size=64K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: xhci_hcd
    Kernel modules: xhci_pci

00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP Thermal subsystem
    Flags: fast devsel, IRQ 18
    Memory at f7456000 (64-bit, non-prefetchable) [size=4K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: intel_pch_thermal
    Kernel modules: intel_pch_thermal

00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP CSME HECI
    Flags: bus master, fast devsel, latency 0, IRQ 127
    Memory at f7455000 (64-bit, non-prefetchable) [size=4K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: mei_me
    Kernel modules: mei_me

00:17.0 SATA controller: Intel Corporation Sunrise Point-LP SATA Controller [AHCI mode] (rev 21) (prog-if 01 [AHCI 1.0])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP SATA Controller [AHCI mode]
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 126
    Memory at f7450000 (32-bit, non-prefetchable) [size=8K]
    Memory at f7454000 (32-bit, non-prefetchable) [size=256]
    I/O ports at f090 [size=8]
    I/O ports at f080 [size=4]
    I/O ports at f060 [size=32]
    Memory at f7453000 (32-bit, non-prefetchable) [size=2K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: ahci
    Kernel modules: ahci

00:1c.0 PCI bridge: Intel Corporation Device 9d11 (rev f1) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0, IRQ 122
    Bus: primary=00, secondary=01, subordinate=01, sec-latency=0
    I/O behind bridge: 0000e000-0000efff
    Memory behind bridge: f6a00000-f73fffff
    Prefetchable memory behind bridge: 00000000f0a00000-00000000f13fffff
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: pcieport
    Kernel modules: shpchp

00:1c.2 PCI bridge: Intel Corporation Device 9d12 (rev f1) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0, IRQ 123
    Bus: primary=00, secondary=02, subordinate=02, sec-latency=0
    I/O behind bridge: 0000d000-0000dfff
    Memory behind bridge: f6000000-f69fffff
    Prefetchable memory behind bridge: 00000000f0000000-00000000f09fffff
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: pcieport
    Kernel modules: shpchp

00:1f.0 ISA bridge: Intel Corporation Device 9d56 (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, medium devsel, latency 0

00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP PMC
    Flags: fast devsel
    Memory at f744c000 (32-bit, non-prefetchable) [disabled] [size=16K]

00:1f.3 Audio device: Intel Corporation Device 9d71 (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 32, IRQ 142
    Memory at f7448000 (64-bit, non-prefetchable) [size=16K]
    Memory at f7420000 (64-bit, non-prefetchable) [size=64K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: snd_hda_intel
    Kernel modules: snd_hda_intel, snd_soc_skl

00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Sunrise Point-LP SMBus
    Flags: medium devsel, IRQ 16
    Memory at f7452000 (64-bit, non-prefetchable) [size=256]
    I/O ports at f040 [size=32]
    Kernel driver in use: i801_smbus
    Kernel modules: i2c_i801

00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (4) I219-LM (rev 21)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Ethernet Connection (4) I219-LM
    Flags: fast devsel, IRQ 124
    Memory at f7400000 (32-bit, non-prefetchable) [disabled] [size=128K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: e1000e
    Kernel modules: e1000e

01:00.0 SD Host controller: O2 Micro, Inc. SD/MMC Card Reader Controller (rev 01) (prog-if 01)
    Subsystem: Matsushita Electric Industrial Co., Ltd. SD/MMC Card Reader Controller
    Flags: bus master, fast devsel, latency 0, IRQ 255
    Memory at f6a01000 (32-bit, non-prefetchable) [size=4K]
    Memory at f6a00000 (32-bit, non-prefetchable) [size=2K]
    Capabilities: &lt;access denied&gt;
    Kernel modules: sdhci_pci

02:00.0 Network controller: Intel Corporation Device 24fd (rev 78)
    Subsystem: Intel Corporation Device 1010
    Flags: bus master, fast devsel, latency 0, IRQ 129
    Memory at f6000000 (64-bit, non-prefetchable) [size=8K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: iwlwifi
    Kernel modules: iwlwifi
</pre>
</div>
</div>
</div>
<div id="outline-container-org3be1aa7" class="outline-3">
<h3 id="org3be1aa7">install 前の準備</h3>
<div class="outline-text-3" id="text-org3be1aa7">
<p>
UEFI でインストールします.
起動画面で F2 を押すと UEFI の設定画面に移行できます.
そこで SecureBoot を無効化しておきます.
</p>

<p>
初期の/リカバリ後のパーティション構成のうち,
C: に割り当てられている第2パーティションを縮小します.
Windows の「ディスク」ツールで「パーティションの縮小」から操作を選ぶのですが,
Windows の「復旧」と「ページングファイル」を無効化していない場合には,
好みのサイズに縮小できません(パーティションの途中にデータを置いているのでしょう).
</p>

<p>
Windows10 は殆んど使う気がないので, 128GB/1TB まで削りました.
こんだけディスク大きいと, 先頭に数GB取られてもまったく気にならない&#x2026;(笑).
あとは Windows Update をかけておきます(これが長い&#x2026;).
</p>

<p>
リカバリディスクも作成しておくと良いでしょう(これもまた長い&#x2026;).
</p>
</div>
</div>
<div id="outline-container-orgafbea51" class="outline-3">
<h3 id="orgafbea51">インストール作業</h3>
<div class="outline-text-3" id="text-orgafbea51">
<p>
<a href="#org6556f99">USBインストーラ</a> を作成してインストールを進めます.
時節柄, 丁度 Stretch installer の RC2 が出ていたので, テストにもなりました.
</p>

<p>
言語設定で「Japanese - 日本語」を選ぶと
lvremove ができないのは相変わらずでしたが,
それ以外は特に気になる所もなく.
</p>

<p>
今回はファイルシステムとして btrfs を試すことにしました.
インストール後のパーティション構成は以下の通り.
</p>
<pre class="example">
Model: ATA SAMSUNG MZNLN1T0 (scsi)
Disk /dev/sda: 1024GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt
Disk Flags:

Number  Start   End     Size    File system  Name                          Flags
 1      1049kB  274MB   273MB   fat32        EFI system partition          boot, esp
 2      274MB   290MB   16.8MB               Microsoft reserved partition  msftres
 3      290MB   138GB   137GB   ntfs         Basic data partition          msftdata
 4      138GB   138GB   128MB   ext4         boot
 5      138GB   1024GB  886GB                lvm                           lvm
</pre>
<p>
相変わらず Panasonic の機械は素直で良いですね.
</p>
</div>
</div>
</div>
<div id="outline-container-org8f9d357" class="outline-2">
<h2 id="org8f9d357">Let's Note CF-SX3</h2>
<div class="outline-text-2" id="text-org8f9d357">
<p>
2014/03/28 から Panasonic Let's Note CF-SX3 を使用中.
大学生協カスタマイズで
</p>
<ul class="org-ul">
<li>SSD 512GB</li>
<li>メモリ 16GB</li>
</ul>
<p>
にしました.
</p>
</div>
<div id="outline-container-org0db16bb" class="outline-3">
<h3 id="org0db16bb">ハードウェア情報</h3>
<div class="outline-text-3" id="text-org0db16bb">
<p>
lspci の出力結果は以下:
</p>
<div class="org-src-container">
<pre class="src src-text">00:02.0 VGA compatible controller: Intel Corporation Haswell-ULT Integrated Graphics Controller (rev 0b) (prog-if 00 [VGA controller])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Haswell-ULT Integrated Graphics Controller
    Flags: bus master, fast devsel, latency 0, IRQ 51
    Memory at f7800000 (64-bit, non-prefetchable) [size=4M]
    Memory at e0000000 (64-bit, prefetchable) [size=256M]
    I/O ports at f000 [size=64]
    [virtual] Expansion ROM at 000c0000 [disabled] [size=128K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: i915
    Kernel modules: i915

00:03.0 Audio device: Intel Corporation Haswell-ULT HD Audio Controller (rev 0b)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Haswell-ULT HD Audio Controller
    Flags: bus master, fast devsel, latency 0, IRQ 45
    Memory at f7f3c000 (64-bit, non-prefetchable) [size=16K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: snd_hda_intel
    Kernel modules: snd_hda_intel

00:04.0 Signal processing controller: Intel Corporation Device 0a03 (rev 0b)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: fast devsel, IRQ 16
    Memory at f7f30000 (64-bit, non-prefetchable) [size=32K]
    Capabilities: &lt;access denied&gt;
    Kernel modules: processor_thermal_device

00:14.0 USB controller: Intel Corporation 8 Series USB xHCI HC (rev 04) (prog-if 30 [XHCI])
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series USB xHCI HC
    Flags: bus master, medium devsel, latency 0, IRQ 46
    Memory at f7f20000 (64-bit, non-prefetchable) [size=64K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: xhci_hcd
    Kernel modules: xhci_pci

00:16.0 Communication controller: Intel Corporation 8 Series HECI #0 (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series HECI
    Flags: bus master, fast devsel, latency 0, IRQ 48
    Memory at f7f47000 (64-bit, non-prefetchable) [size=32]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: mei_me
    Kernel modules: mei_me

00:16.3 Serial controller: Intel Corporation 8 Series HECI KT (rev 04) (prog-if 02 [16550])
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series HECI KT
    Flags: 66MHz, fast devsel, IRQ 19
    I/O ports at f0e0 [size=8]
    Memory at f7f45000 (32-bit, non-prefetchable) [size=4K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: serial

00:19.0 Ethernet controller: Intel Corporation Ethernet Connection I218-LM (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Ethernet Connection I218-LM
    Flags: fast devsel, IRQ 52
    Memory at f7f00000 (32-bit, non-prefetchable) [disabled] [size=128K]
    Memory at f7f44000 (32-bit, non-prefetchable) [disabled] [size=4K]
    I/O ports at f080 [disabled] [size=32]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: e1000e
    Kernel modules: e1000e

00:1b.0 Audio device: Intel Corporation 8 Series HD Audio Controller (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series HD Audio Controller
    Flags: bus master, fast devsel, latency 0, IRQ 49
    Memory at f7f38000 (64-bit, non-prefetchable) [size=16K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: snd_hda_intel
    Kernel modules: snd_hda_intel

00:1c.0 PCI bridge: Intel Corporation 8 Series PCI Express Root Port 1 (rev e4) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0, IRQ 42
    Bus: primary=00, secondary=01, subordinate=01, sec-latency=0
    I/O behind bridge: 0000e000-0000efff
    Memory behind bridge: f7e00000-f7efffff
    Prefetchable memory behind bridge: 00000000f0200000-00000000f02fffff
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: pcieport
    Kernel modules: shpchp

00:1c.2 PCI bridge: Intel Corporation 8 Series PCI Express Root Port 3 (rev e4) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0, IRQ 43
    Bus: primary=00, secondary=02, subordinate=02, sec-latency=0
    I/O behind bridge: 0000d000-0000dfff
    Memory behind bridge: f7d00000-f7dfffff
    Prefetchable memory behind bridge: 00000000f0100000-00000000f01fffff
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: pcieport
    Kernel modules: shpchp

00:1c.3 PCI bridge: Intel Corporation 8 Series PCI Express Root Port 4 (rev e4) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0, IRQ 44
    Bus: primary=00, secondary=03, subordinate=03, sec-latency=0
    I/O behind bridge: 0000c000-0000cfff
    Memory behind bridge: f7c00000-f7cfffff
    Prefetchable memory behind bridge: 00000000f0000000-00000000f00fffff
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: pcieport
    Kernel modules: shpchp

00:1d.0 USB controller: Intel Corporation 8 Series USB EHCI #1 (rev 04) (prog-if 20 [EHCI])
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series USB EHCI
    Flags: medium devsel, IRQ 23
    Memory at f7f43000 (32-bit, non-prefetchable) [size=1K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: ehci-pci
    Kernel modules: ehci_pci

00:1f.0 ISA bridge: Intel Corporation 8 Series LPC Controller (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series LPC Controller
    Flags: bus master, medium devsel, latency 0
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: lpc_ich
    Kernel modules: lpc_ich

00:1f.2 SATA controller: Intel Corporation 8 Series SATA Controller 1 [AHCI mode] (rev 04) (prog-if 01 [AHCI 1.0])
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series SATA Controller 1 [AHCI mode]
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 47
    I/O ports at f0d0 [size=8]
    I/O ports at f0c0 [size=4]
    I/O ports at f0b0 [size=8]
    I/O ports at f0a0 [size=4]
    I/O ports at f060 [size=32]
    Memory at f7f42000 (32-bit, non-prefetchable) [size=2K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: ahci
    Kernel modules: ahci

00:1f.3 SMBus: Intel Corporation 8 Series SMBus Controller (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series SMBus Controller
    Flags: medium devsel, IRQ 18
    Memory at f7f41000 (64-bit, non-prefetchable) [size=256]
    I/O ports at f040 [size=32]
    Kernel driver in use: i801_smbus
    Kernel modules: i2c_i801

00:1f.6 Signal processing controller: Intel Corporation 8 Series Thermal (rev 04)
    Subsystem: Matsushita Electric Industrial Co., Ltd. 8 Series Thermal
    Flags: fast devsel, IRQ 255
    Memory at f7f40000 (64-bit, non-prefetchable) [disabled] [size=4K]
    Capabilities: &lt;access denied&gt;

02:00.0 Network controller: Intel Corporation Wireless 7260 (rev 6b)
    Subsystem: Intel Corporation Dual Band Wireless-AC 7260
    Flags: bus master, fast devsel, latency 0, IRQ 50
    Memory at f7d00000 (64-bit, non-prefetchable) [size=8K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: iwlwifi
    Kernel modules: iwlwifi
</pre>
</div>
</div>
</div>
<div id="outline-container-org3fa6ea3" class="outline-3">
<h3 id="org3fa6ea3">install 前の準備</h3>
<div class="outline-text-3" id="text-org3fa6ea3">
<p>
UEFI です.
legacy BIOS モードもあるので,
そちらで起動しても問題無いのかもしれしません.
ただ legacy BIOS モードだとデバイス初期化に失敗する機械
(MacBook Air とか)もあるらしいので,
ここでは UEFI でインストールすることにします.
</p>

<p>
今迄通り, 起動画面で F2 を押すと UEFI の設定画面に移行できます.
そこで SecureBoot を無効化しておきます.
</p>

<p>
初期の/リカバリ後のパーティション構成のうち,
第1/第2パーティションを弄ると何もできなくなりましたので,
ここは弄らずに Windows 領域を縮小します.
</p>

<p>
あと Windows 側でバッテリーのキャリブレーションと
eco モードへの切り替えを行なっておきます.
eco モード(80%充電で充電停止)を Linux から設定できると楽なんですけれどね.
</p>

<p>
Windows の「ディスク」ツールで, ディスクを縮小します.
ディスク縮小が自由にできない場合には,
Windows の「復旧」と「ページングファイル」を無効化すると良いでしょう.
</p>

<p>
install 後のディスク構成は以下の通り:
</p>
<pre class="example">
Model: ATA TOSHIBA THNSNF51 (scsi)
Disk /dev/sda: 512GB
Sector size (logical/physical): 512B/512B
Partition Table: gpt

Number  Start   End     Size    File system  Name                          Flags
 1      1049kB  840MB   839MB   ntfs         Basic data partition          hidden, diag
 2      840MB   1113MB  273MB   fat32        EFI system partition          boot
 3      1113MB  1247MB  134MB                Microsoft reserved partition  msftres
 4      1247MB  84.8GB  83.5GB  ntfs         Basic data partition          msftdata
 5      84.8GB  84.9GB  128MB   ext4         Boot(Grub)
 6      84.9GB  512GB   427GB                                              lvm
</pre>

<p>
こんだけディスク大きいと, 先頭に数GB取られてもまったく気にならない(笑).
Windows8 は殆ど使う気が無いので 80 GB まで減らしてます.
</p>

<p>
初の UEFI にドキドキしつつ USB インストーラを試そうとしたら,
UEFI の画面で起動デバイスに選択できず.
</p>

<p>
しょうがないので(数年振りに) installer として 2014/04/07 の
snapshot 版の DVD イメージを DVD に焼いて試してみたら,
boot デバイスの選択画面にもドライブが表われて,
さらに installer 自体が EFI モードで起動し,
特に何も設定せずとも grub-efi で幸せになれました
Windows 領域も認識して, dual boot で綺麗に動いてくれています.
</p>

<p>
相変わらず Panasonic の機械は素直で良いですね.
</p>
</div>
</div>
</div>
<div id="outline-container-org549b8b7" class="outline-2">
<h2 id="org549b8b7">Let's Note S9</h2>
<div class="outline-text-2" id="text-org549b8b7">
<p>
2010/03/10 から Panasonic Let's Note S9 を使用中.
Corei5 で WiMAX です(ドキドキ).
大学生協カスタマイズから,
</p>

<ul class="org-ul">
<li>RAM: 8GB</li>
<li>HDD: 2.5inch SATA 512 GB</li>
</ul>

<p>
に変更しました. 発売が 2 月末というできたてホヤホヤの機械です.
主要な機能が動くかどうかも定かではないのですが気合で, なんとか.
</p>
</div>
<div id="outline-container-org1227efa" class="outline-3">
<h3 id="org1227efa">ハードウェア情報</h3>
<div class="outline-text-3" id="text-org1227efa">
<p>
lspci の出力結果は以下
</p>
<div class="org-src-container">
<pre class="src src-text">00:00.0 Host bridge: Intel Corporation Core Processor DRAM Controller (rev 12)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0
    Capabilities: [e0] Vendor Specific Information: Len=0c &lt;?&gt;
    Kernel driver in use: agpgart-intel

00:02.0 VGA compatible controller: Intel Corporation Core Processor Integrated Graphics Controller (rev 12) (prog-if 00 [VGA controller])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 33
    Memory at f0000000 (64-bit, non-prefetchable) [size=4M]
    Memory at e0000000 (64-bit, prefetchable) [size=256M]
    I/O ports at e0b0 [size=8]
    Expansion ROM at &lt;unassigned&gt; [disabled]
    Capabilities: [90] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [d0] Power Management version 2
    Capabilities: [a4] PCI Advanced Features
    Kernel driver in use: i915

00:19.0 Ethernet controller: Intel Corporation 82577LM Gigabit Network Connection (rev 06)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 34
    Memory at f4a00000 (32-bit, non-prefetchable) [size=128K]
    Memory at f4a29000 (32-bit, non-prefetchable) [size=4K]
    I/O ports at e040 [size=32]
    Capabilities: [c8] Power Management version 2
    Capabilities: [d0] MSI: Enable+ Count=1/1 Maskable- 64bit+
    Capabilities: [e0] PCI Advanced Features
    Kernel driver in use: e1000e

00:1a.0 USB Controller: Intel Corporation 5 Series/3400 Series Chipset USB2 Enhanced Host Controller (rev 06) (prog-if 20 [EHCI])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, medium devsel, latency 0, IRQ 16
    Memory at f4a28000 (32-bit, non-prefetchable) [size=1K]
    Capabilities: [50] Power Management version 2
    Capabilities: [58] Debug port: BAR=1 offset=00a0
    Capabilities: [98] PCI Advanced Features
    Kernel driver in use: ehci_hcd

00:1b.0 Audio device: Intel Corporation 5 Series/3400 Series Chipset High Definition Audio (rev 06)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 22
    Memory at f4a20000 (64-bit, non-prefetchable) [size=16K]
    Capabilities: [50] Power Management version 2
    Capabilities: [60] MSI: Enable- Count=1/1 Maskable- 64bit+
    Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00
    Capabilities: [100] Virtual Channel
    Capabilities: [130] Root Complex Link
    Kernel driver in use: HDA Intel

00:1c.0 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 1 (rev 06) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=01, subordinate=01, sec-latency=0
    I/O behind bridge: 0000d000-0000dfff
    Memory behind bridge: f4800000-f49fffff
    Capabilities: [40] Express Root Port (Slot+), MSI 00
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [90] Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Capabilities: [a0] Power Management version 2
    Kernel driver in use: pcieport

00:1c.1 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 2 (rev 06) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=02, subordinate=09, sec-latency=0
    I/O behind bridge: 0000c000-0000cfff
    Memory behind bridge: f4600000-f47fffff
    Prefetchable memory behind bridge: 00000000f4b00000-00000000f4cfffff
    Capabilities: [40] Express Root Port (Slot+), MSI 00
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [90] Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Capabilities: [a0] Power Management version 2
    Kernel driver in use: pcieport

00:1c.2 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 3 (rev 06) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=0a, subordinate=0a, sec-latency=0
    I/O behind bridge: 0000b000-0000bfff
    Memory behind bridge: f4400000-f45fffff
    Capabilities: [40] Express Root Port (Slot+), MSI 00
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [90] Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Capabilities: [a0] Power Management version 2
    Kernel driver in use: pcieport

00:1c.3 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 4 (rev 06) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=0b, subordinate=13, sec-latency=0
    I/O behind bridge: 00009000-0000afff
    Memory behind bridge: f0400000-f43fffff
    Capabilities: [40] Express Root Port (Slot+), MSI 00
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [90] Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Capabilities: [a0] Power Management version 2
    Kernel driver in use: pcieport

00:1d.0 USB Controller: Intel Corporation 5 Series/3400 Series Chipset USB2 Enhanced Host Controller (rev 06) (prog-if 20 [EHCI])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, medium devsel, latency 0, IRQ 23
    Memory at f4a27000 (32-bit, non-prefetchable) [size=1K]
    Capabilities: [50] Power Management version 2
    Capabilities: [58] Debug port: BAR=1 offset=00a0
    Capabilities: [98] PCI Advanced Features
    Kernel driver in use: ehci_hcd

00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev a6) (prog-if 01 [Subtractive decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=14, subordinate=14, sec-latency=32
    Capabilities: [50] Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338

00:1f.0 ISA bridge: Intel Corporation Mobile 5 Series Chipset LPC Interface Controller (rev 06)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, medium devsel, latency 0
    Capabilities: [e0] Vendor Specific Information: Len=10 &lt;?&gt;

00:1f.2 SATA controller: Intel Corporation 5 Series/3400 Series Chipset 6 port SATA AHCI Controller (rev 06) (prog-if 01 [AHCI 1.0])
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 35
    I/O ports at e090 [size=8]
    I/O ports at e080 [size=4]
    I/O ports at e070 [size=8]
    I/O ports at e060 [size=4]
    I/O ports at e020 [size=32]
    Memory at f4a26000 (32-bit, non-prefetchable) [size=2K]
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [70] Power Management version 3
    Capabilities: [a8] SATA HBA v1.0
    Capabilities: [b0] PCI Advanced Features
    Kernel driver in use: ahci

00:1f.3 SMBus: Intel Corporation 5 Series/3400 Series Chipset SMBus Controller (rev 06)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: medium devsel, IRQ 18
    Memory at f4a25000 (64-bit, non-prefetchable) [size=256]
    I/O ports at e000 [size=32]

00:1f.6 Signal processing controller: Intel Corporation 5 Series/3400 Series Chipset Thermal Subsystem (rev 06)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 11
    Memory at f4a24000 (64-bit, non-prefetchable) [size=4K]
    Capabilities: [50] Power Management version 3
    Capabilities: [80] MSI: Enable- Count=1/1 Maskable- 64bit-

0a:00.0 Network controller: Intel Corporation WiMAX/WiFi Link 6050 Series (rev 35)
    Subsystem: Intel Corporation WiFi Link 6050 Series 2x2 6050AGN
    Flags: bus master, fast devsel, latency 0, IRQ 11
    Memory at f4400000 (64-bit, non-prefetchable) [size=8K]
    Capabilities: [c8] Power Management version 3
    Capabilities: [d0] MSI: Enable- Count=1/1 Maskable- 64bit+
    Capabilities: [e0] Express Endpoint, MSI 00
    Capabilities: [100] Advanced Error Reporting
    Capabilities: [140] Device Serial Number 00-23-15-ff-ff-05-7a-14

0b:00.0 CardBus bridge: Ricoh Co Ltd Device e476
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 19
    Memory at f2c01000 (32-bit, non-prefetchable) [size=4K]
    Bus: primary=0b, secondary=0c, subordinate=0f, sec-latency=176
    Memory window 0: f0400000-f2bff000 (prefetchable)
    Memory window 1: f3000000-f33ff000
    I/O window 0: 00009000-000090ff
    I/O window 1: 00009400-000094ff
    16-bit legacy interface ports at 0001
    Kernel driver in use: yenta_cardbus

0b:00.1 SD Host controller: Ricoh Co Ltd Device e822 (rev 02) (prog-if 01)
    Subsystem: Matsushita Electric Industrial Co., Ltd. Device 8338
    Flags: bus master, fast devsel, latency 0, IRQ 16
    Memory at f2c00000 (32-bit, non-prefetchable) [size=256]
    Capabilities: [50] MSI: Enable- Count=1/1 Maskable- 64bit+
    Capabilities: [78] Power Management version 3
    Capabilities: [80] Express Endpoint, MSI 00
    Kernel driver in use: sdhci-pci

0c:00.0 USB Controller: NEC Corporation USB (rev 44) (prog-if 10 [OHCI])
    Subsystem: NEC Corporation Hama USB 2.0 CardBus
    Flags: bus master, medium devsel, latency 64, IRQ 19
    Memory at f3000000 (32-bit, non-prefetchable) [size=4K]
    Capabilities: [fc] &lt;chain broken&gt;
    Kernel driver in use: ohci_hcd

0c:00.1 USB Controller: NEC Corporation USB 2.0 (rev 05) (prog-if 20 [EHCI])
    !!! Unknown header type 7f
    Kernel driver in use: ehci_hcd

3f:00.0 Host bridge: Intel Corporation Core Processor QuickPath Architecture Generic Non-core Registers (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0

3f:00.1 Host bridge: Intel Corporation Core Processor QuickPath Architecture System Address Decoder (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0

3f:02.0 Host bridge: Intel Corporation Core Processor QPI Link 0 (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0

3f:02.1 Host bridge: Intel Corporation Core Processor QPI Physical 0 (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0

3f:02.2 Host bridge: Intel Corporation Core Processor Reserved (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0

3f:02.3 Host bridge: Intel Corporation Core Processor Reserved (rev 02)
    Subsystem: Intel Corporation Device 8086
    Flags: bus master, fast devsel, latency 0
</pre>
</div>
</div>
</div>
<div id="outline-container-org3f4c3ff" class="outline-3">
<h3 id="org3f4c3ff">install 前の準備</h3>
<div class="outline-text-3" id="text-org3f4c3ff">
<ul class="org-ul">
<li>添付のリカバリディスクでブートして動作確認
<ul class="org-ul">
<li>HDD 内のリカバリ領域を削除するのが目的. リカバリ領域無しでも出荷状態に戻せることを確認.</li>
</ul></li>
<li><a href="http://gparted.sourceforge.net/livecd.php">GParted</a> の LiveCD で起動して&#x2026;
<ul class="org-ul">
<li>先頭のリカバリ領域を削除</li>
<li>C: のサイズを 20 GB に変更.</li>
</ul></li>
</ul>

<p>
install 後のディスク構成は以下の通り:
</p>
<pre class="example">
                             Disk Drive: /dev/sda
                      Size: 500107862016 bytes, 500.1 GB
            Heads: 255   Sectors per Track: 63   Cylinders: 60801

   Name        Flags      Part Type  FS Type          [Label]        Size (MB)
------------------------------------------------------------------------------
   sda1        Boot        Primary   Linux ext3       [/boot]           131.61
   sda3                    Primary   NTFS             []              26213.97
   sda2                    Primary   Linux swap/Solaris               15998.17
   sda4                    Primary   Linux ext3       [/]            457761.51
</pre>
<p>
Windows 領域を sda2 に移すの忘れていた. 気持ち悪いけれど, まあ良いか.
</p>
</div>
</div>
</div>
<div id="outline-container-org0fd2139" class="outline-2">
<h2 id="org0fd2139">VAIO typeG</h2>
<div class="outline-text-2" id="text-org0fd2139">
<p>
2009/04/01 から SONY VAIO typeG を使用中. SonyStyle でちょっとカスタマイズして
</p>
<ul class="org-ul">
<li>CPU: Core2Duo SU9400</li>
<li>RAM: 4GB(2GBx2)</li>
<li>HDD: 2.5型 HDD 320GB, 光学ドライブ無し</li>
</ul>
<p>
にしました. あとから気がついたけれど, 日本語配列の刻印無しキーボードも選択すれば良かったかな&#x2026;
</p>
</div>
<div id="outline-container-org9fbb62e" class="outline-3">
<h3 id="org9fbb62e">ハードウェア情報</h3>
<div class="outline-text-3" id="text-org9fbb62e">
<p>
lspci の出力結果は以下を参照:
</p>
<div class="org-src-container">
<pre class="src src-text">00:00.0 Host bridge: Intel Corporation Mobile 4 Series Chipset Memory Controller Hub (rev 07)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, fast devsel, latency 0
    Capabilities: [e0] Vendor Specific Information &lt;?&gt;
    Kernel driver in use: agpgart-intel

00:02.0 VGA compatible controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07) (prog-if 00 [VGA controller])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, fast devsel, latency 0, IRQ 28
    Memory at d4400000 (64-bit, non-prefetchable) [size=4M]
    Memory at c0000000 (64-bit, prefetchable) [size=256M]
    I/O ports at 5130 [size=8]
    Expansion ROM at &lt;unassigned&gt; [disabled]
    Capabilities: [90] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [d0] Power Management version 3

00:02.1 Display controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, fast devsel, latency 0
    Memory at d5800000 (64-bit, non-prefetchable) [size=1M]
    Capabilities: [d0] Power Management version 3

00:19.0 Ethernet controller: Intel Corporation 82567LM Gigabit Network Connection (rev 03)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, fast devsel, latency 0, IRQ 25
    Memory at d6a00000 (32-bit, non-prefetchable) [size=128K]
    Memory at d6a24000 (32-bit, non-prefetchable) [size=4K]
    I/O ports at 5100 [size=32]
    Capabilities: [c8] Power Management version 2
    Capabilities: [d0] MSI: Enable+ Count=1/1 Maskable- 64bit+
    Capabilities: [e0] PCI Advanced Features
    Kernel driver in use: e1000e

00:1a.0 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #4 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 23
    I/O ports at 50e0 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1a.1 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #5 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 23
    I/O ports at 50c0 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1a.2 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #6 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 23
    I/O ports at 50a0 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1a.7 USB Controller: Intel Corporation 82801I (ICH9 Family) USB2 EHCI Controller #2 (rev 03) (prog-if 20 [EHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 23
    Memory at d6a25c00 (32-bit, non-prefetchable) [size=1K]
    Capabilities: [50] Power Management version 2
    Capabilities: [58] Debug port: BAR=1 offset=00a0
    Capabilities: [98] PCI Advanced Features
    Kernel driver in use: ehci_hcd

00:1b.0 Audio device: Intel Corporation 82801I (ICH9 Family) HD Audio Controller (rev 03)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, fast devsel, latency 0, IRQ 21
    Memory at d6a20000 (64-bit, non-prefetchable) [size=16K]
    Capabilities: [50] Power Management version 2
    Capabilities: [60] MSI: Enable- Count=1/1 Maskable- 64bit+
    Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00
    Capabilities: [100] Virtual Channel &lt;?&gt;
    Capabilities: [130] Root Complex Link &lt;?&gt;
    Kernel driver in use: HDA Intel

00:1c.0 PCI bridge: Intel Corporation 82801I (ICH9 Family) PCI Express Port 1 (rev 03) (prog-if 00 [Normal decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=02, subordinate=02, sec-latency=0
    I/O behind bridge: 00004000-00004fff
    Memory behind bridge: d5900000-d69fffff
    Prefetchable memory behind bridge: 00000000d4800000-00000000d57fffff
    Capabilities: [40] Express Root Port (Slot+), MSI 00
    Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit-
    Capabilities: [90] Subsystem: Sony Corporation Device 9047
    Capabilities: [a0] Power Management version 2
    Capabilities: [100] Virtual Channel &lt;?&gt;
    Capabilities: [180] Root Complex Link &lt;?&gt;
    Kernel driver in use: pcieport

00:1d.0 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #1 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 20
    I/O ports at 5080 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1d.1 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #2 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 20
    I/O ports at 5060 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1d.2 USB Controller: Intel Corporation 82801I (ICH9 Family) USB UHCI Controller #3 (rev 03) (prog-if 00 [UHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 20
    I/O ports at 5040 [size=32]
    Capabilities: [50] PCI Advanced Features
    Kernel driver in use: uhci_hcd

00:1d.7 USB Controller: Intel Corporation 82801I (ICH9 Family) USB2 EHCI Controller #1 (rev 03) (prog-if 20 [EHCI])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 20
    Memory at d6a25800 (32-bit, non-prefetchable) [size=1K]
    Capabilities: [50] Power Management version 2
    Capabilities: [58] Debug port: BAR=1 offset=00a0
    Capabilities: [98] PCI Advanced Features
    Kernel driver in use: ehci_hcd

00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev 93) (prog-if 01 [Subtractive decode])
    Flags: bus master, fast devsel, latency 0
    Bus: primary=00, secondary=0b, subordinate=0f, sec-latency=32
    I/O behind bridge: 00003000-00003fff
    Memory behind bridge: d2000000-d40fffff
    Prefetchable memory behind bridge: 00000000d0000000-00000000d1ffffff
    Capabilities: [50] Subsystem: Sony Corporation Device 9047

00:1f.0 ISA bridge: Intel Corporation ICH9M-E LPC Interface Controller (rev 03)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0
    Capabilities: [e0] Vendor Specific Information &lt;?&gt;

00:1f.2 SATA controller: Intel Corporation ICH9M/M-E SATA AHCI Controller (rev 03) (prog-if 01 [AHCI 1.0])
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, 66MHz, medium devsel, latency 0, IRQ 26
    I/O ports at 5128 [size=8]
    I/O ports at 513c [size=4]
    I/O ports at 5120 [size=8]
    I/O ports at 5138 [size=4]
    I/O ports at 5020 [size=32]
    Memory at d6a25000 (32-bit, non-prefetchable) [size=2K]
    Capabilities: [80] MSI: Enable+ Count=1/16 Maskable- 64bit-
    Capabilities: [70] Power Management version 3
    Capabilities: [a8] SATA HBA &lt;?&gt;
    Capabilities: [b0] PCI Advanced Features
    Kernel driver in use: ahci

00:1f.3 SMBus: Intel Corporation 82801I (ICH9 Family) SMBus Controller (rev 03)
    Subsystem: Sony Corporation Device 9047
    Flags: medium devsel, IRQ 22
    Memory at dac26000 (64-bit, non-prefetchable) [size=256]
    I/O ports at a000 [size=32]

02:00.0 Network controller: Intel Corporation Wireless WiFi Link 5100
    Subsystem: Intel Corporation Device 1301
    Flags: fast devsel, IRQ 16
    Memory at d5900000 (64-bit, non-prefetchable) [size=8K]
    Capabilities: [c8] Power Management version 3
    Capabilities: [d0] MSI: Enable- Count=1/1 Maskable- 64bit+
    Capabilities: [e0] Express Endpoint, MSI 00
    Capabilities: [100] Advanced Error Reporting
    Capabilities: [140] Device Serial Number 00-21-5d-ff-ff-5a-84-ee

0b:04.0 CardBus bridge: Ricoh Co Ltd RL5c476 II (rev ba)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 168, IRQ 20
    Memory at d4000000 (32-bit, non-prefetchable) [size=4K]
    Bus: primary=0b, secondary=0c, subordinate=0f, sec-latency=176
    Memory window 0: dc000000-dffff000 (prefetchable)
    Memory window 1: e0000000-e3fff000
    I/O window 0: 00003000-000030ff
    I/O window 1: 00003400-000034ff
    16-bit legacy interface ports at 0001
    Kernel driver in use: yenta_cardbus

0b:04.2 SD Host controller: Ricoh Co Ltd R5C822 SD/SDIO/MMC/MS/MSPro Host Adapter (rev 21)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 64, IRQ 22
    Memory at d4001100 (32-bit, non-prefetchable) [size=256]
    Capabilities: [80] Power Management version 2
    Kernel driver in use: sdhci-pci

0b:04.4 System peripheral: Ricoh Co Ltd R5C592 Memory Stick Bus Host Adapter (rev 11)
    Subsystem: Sony Corporation Device 9047
    Flags: bus master, medium devsel, latency 0, IRQ 10
    Memory at d4001000 (32-bit, non-prefetchable) [size=256]
    Capabilities: [80] Power Management version 2
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc1cf737" class="outline-3">
<h3 id="orgc1cf737">install 前の準備</h3>
<div class="outline-text-3" id="text-orgc1cf737">
<ul class="org-ul">
<li>リカバリディスクを作成し, リカバリを実行する
<ul class="org-ul">
<li>どうあがいても最小構成で C: に 40 GB 割り当てようとする.</li>
<li>BIOS の upgrade 程度にしか使う気が無いのに, この無駄さ加減.</li>
</ul></li>
<li>Knoppix で起動. GParted を用いて
<ul class="org-ul">
<li>先頭のリカバリ領域を削除</li>
<li>後方の D: を削除</li>
<li>C: を sda2 に移動, サイズを 20 GB に変更.</li>
</ul></li>
<li>もういちどリカバリディスクで起動して, Windows の修復を実行</li>
</ul>
<p>
install の結果としてディスク構成は以下の様になりました.
</p>
<pre class="example">
                             Disk Drive: /dev/da
                       Size: 320072933376 bytes, 320.0 GB
             Heads: 255   Sectors per Track: 63   Cylinders: 38913

   Name        Flags      Part Type  FS Type          [Label]       Size (MB)
------------------------------------------------------------------------------
   sda1                    Primary   Linux ext3       [/boot]         131.61
   sda2        Boot        Primary   NTFS             []            20974.47
   sda3                    Primary   Linux swap / Solaris            8003.20
   sda4                    Primary   Linux ext3        [root]       290961.06
</pre>
</div>
</div>
</div>
<div id="outline-container-org203a36e" class="outline-2">
<h2 id="org203a36e">Let's Note CF-R4</h2>
<div class="outline-text-2" id="text-org203a36e">
<p>
2009/04/01 まではメインで Panasonic Let's Note CF-R4 を使用してました.
</p>
</div>
<div id="outline-container-org884537a" class="outline-3">
<h3 id="org884537a">ハードウェア情報</h3>
<div class="outline-text-3" id="text-org884537a">
<p>
lspci の出力結果は以下を参照
</p>
<div class="org-src-container">
<pre class="src src-text">00:00.0 Host bridge: Intel Corporation Mobile 915GM/PM/GMS/910GML Express Processor to DRAM Controller (rev 03)
00:02.0 VGA compatible controller: Intel Corporation Mobile 915GM/GMS/910GML Express Graphics Controller (rev 03)
00:02.1 Display controller: Intel Corporation Mobile 915GM/GMS/910GML Express Graphics Controller (rev 03)
00:1d.0 USB Controller: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) USB UHCI #1 (rev 04)
00:1d.7 USB Controller: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) USB2 EHCI Controller (rev 04)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev d4)
00:1e.2 Multimedia audio controller: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) AC'97 Audio Controller (rev 04)
00:1f.0 ISA bridge: Intel Corporation 82801FBM (ICH6M) LPC Interface Bridge (rev 04)
00:1f.1 IDE interface: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) IDE Controller (rev 04)
00:1f.3 SMBus: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) SMBus Controller (rev 04)
06:01.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL-8139/8139C/8139C+ (rev 10)
06:04.0 Network controller: Intel Corporation PRO/Wireless 2915ABG Network Connection (rev 05)
06:05.0 CardBus bridge: Ricoh Co Ltd RL5c476 II (rev 8d)
06:05.1 Generic system peripheral [0805]: Ricoh Co Ltd R5C822 SD/SDIO/MMC/MS/MSPro Host Adapter (rev 13)
</pre>
</div>
</div>
</div>
<div id="outline-container-org434d99a" class="outline-3">
<h3 id="org434d99a">install 前の準備</h3>
<div class="outline-text-3" id="text-org434d99a">
<p>
始めにリカバリー起動してパーティションの切り直し.
install の結果として今回は以下の様に.
</p>
<pre class="example">
                             Disk Drive: /dev/hda
                       Size: 60011642880 bytes, 60.0 GB
             Heads: 255   Sectors per Track: 63   Cylinders: 7296

   Name        Flags      Part Type  FS Type          [Label]        Size (MB)
------------------------------------------------------------------------------
   hda1                    Primary   NTFS             []               8595.42
   hda2        Boot        Primary   Linux ext3       [/boot]           131.61
   hda3                    Primary   Linux swap / Solaris              1998.75
   hda4                    Primary   Linux ext3       [/]             49285.88
</pre>

<p>
元の Windows 領域は 8GB に. 使う気は無いけど
バッテリーのエコモード切り替えや W05K のアクティベーションは Windows で
行なう必要があるので, 止むなく残す.
</p>

<p>
boot と swap に分ける必要はあるのか定かではない. 癖のようなもの.
また, swap 領域を / より先に持ってきているのは TuxOnIce のため.
「resume する領域が先にあった方が良い」という情報をどこかで見た記憶があるので
そのようにしている. これも嘘かもしれない.
</p>
</div>
</div>
</div>
<div id="outline-container-orgcee618a" class="outline-2">
<h2 id="orgcee618a">install が終わったら.</h2>
<div class="outline-text-2" id="text-orgcee618a">
<p>
install レポートを提出しましょう.
適当な <a href='DebianMTA.html'>MTA</a> の設定が終わったら,
</p>
<pre class="example">
# reportbug --configure
$ reportbug -b installation-reports
</pre>
<p>
です.
</p>
</div>
</div>
<div id="outline-container-orgc93f267" class="outline-2">
<h2 id="orgc93f267">参考文献</h2>
<div class="outline-text-2" id="text-orgc93f267">
</div><div id="outline-container-org0882295" class="outline-3">
<h3 id="org0882295">全般</h3>
<div class="outline-text-3" id="text-org0882295">
<ul class="org-ul">
<li><a href="http://www.debian.org/releases/stable/i386/index.html.ja">Debian GNU/Linux インストールガイド</a></li>
<li><a href="http://qref.sourceforge.net/Debian/reference/reference.ja.html">Debian リファレンス</a></li>
</ul>
</div>
</div>
<div id="outline-container-org81b9ba7" class="outline-3">
<h3 id="org81b9ba7">TypeG</h3>
<div class="outline-text-3" id="text-org81b9ba7">
<ul class="org-ul">
<li><a href="http://flatray.com/linux/vaio-t/">Linux on SONY VAIO type T</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgfa1d06b" class="outline-3">
<h3 id="orgfa1d06b">CF-R4</h3>
<div class="outline-text-3" id="text-orgfa1d06b">
<ul class="org-ul">
<li><a href="http://kmuto.jp/open.cgi?Y2">Let's note CF-Y2</a></li>
<li><a href="http://yoosee.net/wiki/?Debian/install/CF-Y4">Debian sarge on Let's Note CF-Y4</a></li>
<li><a href="http://web.yl.is.s.u-tokyo.ac.jp/~furuse/comp/cf-w4.html">Debian Linux for CF-W4 (Let's note)</a></li>
</ul>
</div>
</div>
</div>
